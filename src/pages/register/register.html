<ion-header>

  <ion-navbar color="primary">
    <ion-title>Register</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <form [formGroup]="myForm">
    <ion-list text-center>
      <ion-grid>
        <ion-row>
          <ion-col>
              <ion-item>
                  <ion-label color="primary">
                      <ion-icon name="person"></ion-icon>
                  </ion-label>
                  <ion-input formControlName="firstName" type="text" [(ngModel)]="user.firstName" [class.invalid]="!myForm.controls.firstName.valid && myForm.controls.firstName.touched" placeholder="Forename"></ion-input>
                </ion-item>
                <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.firstName" >
                    <div class="error-message" *ngIf="myForm.get('firstName').hasError(validation.type) && (myForm.get('firstName').dirty || myForm.get('firstName').touched)">
                  {{ validation.message }}
                    </div>
                  </ng-container>
                </div>
          </ion-col>
          <ion-col>
              
        <ion-item>
            <ion-label color="primary">
            </ion-label>
            <ion-input formControlName="surname" type="text" [(ngModel)]="user.surname" [class.invalid]="!myForm.controls.surname.valid && myForm.controls.surname.touched" placeholder="Surname"></ion-input>
          </ion-item>
          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.surname" >
              <div class="error-message" *ngIf="myForm.get('surname').hasError(validation.type) && (myForm.get('surname').dirty || myForm.get('surname').touched)">
            {{ validation.message }}
              </div>
            </ng-container>
          </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
              <ion-item>
                  <ion-label color="primary">
                  <ion-icon name="contact"></ion-icon>
                  </ion-label>
                  <ion-input formControlName="displayName" type="text" [(ngModel)]="user.displayName" [class.invalid]="!myForm.controls.displayName.valid && myForm.controls.displayName.touched" placeholder="Display Name"></ion-input>
                </ion-item>
                <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.displayName" >
                    <div class="error-message" *ngIf="myForm.get('displayName').hasError(validation.type) && (myForm.get('displayName').dirty || myForm.get('displayName').touched)">
                  {{ validation.message }}
                    </div>
                  </ng-container>
                </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
              <ion-item>
                  <ion-label color="primary">
                  <ion-icon name="mail"></ion-icon>
                  </ion-label>
                  <ion-input formControlName="email" type="text" [(ngModel)]="user.email" [class.invalid]="!myForm.controls.email.valid && myForm.controls.email.touched" placeholder="Email"></ion-input>
                </ion-item>
                <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.email" >
                    <div class="error-message" *ngIf="myForm.get('email').hasError(validation.type) && (myForm.get('email').dirty || myForm.get('email').touched)">
                  {{ validation.message }}
                    </div>
                  </ng-container>
                </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
              <ion-item>
                  <ion-label color="primary">
                  <ion-icon name="lock"></ion-icon>
                  </ion-label>
                  <ion-input name="password" formControlName="password" type="{{type}}" [(ngModel)]="user.password" [class.invalid]="!myForm.controls.password.valid && myForm.controls.password.touched" placeholder="Password"></ion-input>
                  <button *ngIf="!showPass" ion-button clear icon-only item-right color="primary" type="button" item-right (click)="showPassword()"> <ion-icon name="ios-eye-off-outline"></ion-icon></button>
                  <button *ngIf="showPass" ion-button clear icon-only item-right color="primary" type="button" item-right (click)="showPassword()"> <ion-icon name="ios-eye-outline"></ion-icon></button>
                </ion-item>
                <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.password" >
                    <div class="error-message" *ngIf="myForm.get('password').hasError(validation.type) && (myForm.get('password').dirty || myForm.get('password').touched)">
                  {{ validation.message }}
                    </div>
                  </ng-container>
                </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
              <ion-item>
                  <ion-label color="primary">
                    <ion-icon name="bookmark"></ion-icon>
                  </ion-label>
                  <ion-input formControlName="age" min="0" max="110" type="number" [(ngModel)]="user.age" [class.invalid]="!myForm.controls.age.valid && myForm.controls.age.touched" placeholder="Age"></ion-input>
                </ion-item>
                <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.age" >
                    <div class="error-message" *ngIf="myForm.get('age').hasError(validation.type) && (myForm.get('age').dirty || myForm.get('age').touched)">
                  {{ validation.message }}
                    </div>
                  </ng-container>
                </div>
          </ion-col>
          <ion-col >
              <ion-item style="text-align: right">
                <ion-label>Gender</ion-label>
                  <ion-select formControlName="sex" [(ngModel)]="user.sex" style="max-width: 100%;">
                      <ion-option value="Male">Male</ion-option>
                      <ion-option value="Female">Female</ion-option>
                    </ion-select>
              </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-label color="primary">
                        <ion-icon name="globe"></ion-icon>
                    </ion-label>
                    <ion-input formControlName="country" type="text" [(ngModel)]="user.country" [class.invalid]="!myForm.controls.country.valid && myForm.controls.country.touched" placeholder="Country"></ion-input>
                  </ion-item>
                  <div class="validation-errors">
                    <ng-container *ngFor="let validation of validation_messages.country" >
                      <div class="error-message" *ngIf="myForm.get('country').hasError(validation.type) && (myForm.get('country').dirty || myForm.get('country').touched)">
                    {{ validation.message }}
                      </div>
                    </ng-container>
                  </div>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-label color="primary">
                    </ion-label>
                    <ion-input formControlName="city" type="text" [(ngModel)]="user.city" [class.invalid]="!myForm.controls.city.valid && myForm.controls.city.touched" placeholder="City"></ion-input>
                  </ion-item>
                  <div class="validation-errors">
                    <ng-container *ngFor="let validation of validation_messages.city" >
                      <div class="error-message" *ngIf="myForm.get('city').hasError(validation.type) && (myForm.get('city').dirty || myForm.get('city').touched)">
                    {{ validation.message }}
                      </div>
                    </ng-container>
                  </div>
            </ion-col>
          </ion-row>
          <ion-row>
              <ion-col>
                  <ion-item>
                      <ion-label>User type</ion-label>
                      <ion-select formControlName="role" [(ngModel)]="user.role" style="max-width: 100%;">
                        <ion-option selected value="1">Client</ion-option>
                        <ion-option value="2">Trainer</ion-option>     
                      </ion-select>
                   </ion-item>
              </ion-col>
            </ion-row>
      </ion-grid>
 
   
   


      


      

    
    
    </ion-list>
  </form>


  <div padding>
    <button ion-button (click)="register()" [disabled]="!myForm.valid" round block>
      Register
    </button>
  </div>
  <button ion-button (click)="gotologin()" clear block>
    Already have an account? Login
  </button>
  
  

</ion-content>
